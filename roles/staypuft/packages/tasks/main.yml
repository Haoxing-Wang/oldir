---
- name: Add OS specific vars
  include_vars: "{{ ansible_distribution }}-{{ ansible_distribution_version }}.yml"

- name: Install foreman release rpm
  yum: name=http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/foreman-release.rpm state=present
  when: false

- name: Install foreman dependencies
  yum: name={{ item }} state=latest
  with_items:
    - tftp-server
    - qemu-kvm
    - qemu-kvm-tools
    - libvirt
    - libvirt-client
    - virt-who
    - virt-what
    - fence-virtd-libvirt
    - fence-virtd-multicast
    - fence-virtd-serial
    # - foreman-libvirt
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-fog-1.21.0-2.el6.noarch.rpm
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-fog-brightbox-0.0.1-1.el6.noarch.rpm
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-fog-core-1.21.1-2.el6.noarch.rpm
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-fog-json-1.0.0-2.el6.noarch.rpm
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-unf-0.1.3-3.el6.x86_64.rpm
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-unf_ext-0.0.6-4.el6.x86_64.rpm
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-net-scp-1.1.0-3.el6.noarch.rpm
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-net-ssh-2.6.7-1.el6.noarch.rpm
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-formatador-0.2.1-6.el6.noarch.rpm
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-ruby-libvirt-0.5.1-1.el6.x86_64.rpm
    # - http://yum.theforeman.org/releases/1.5/{{ distro_short }}/x86_64/ruby193-rubygem-excon-0.32.1-1.el6.noarch.rpm
