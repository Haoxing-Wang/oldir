{% if installer.nodes.compute.scale_change is defined %}
export NODE_TO_DELETE_TYPE={{installer.nodes.compute.nova_list_type}}
{%endif %}

{% if installer.nodes.blockstorage.scale_change is defined %}
export NODE_TO_DELETE_TYPE={{installer.nodes.blockstorage.nova_list_type}}
{%endif %}

{% if installer.nodes.swiftstorage.scale_change is defined %}
export NODE_TO_DELETE_TYPE={{installer.nodes.swiftstorage.nova_list_type}}
{%endif %}

{% if installer.nodes.cephstorage.scale_change is defined %}
export NODE_TO_DELETE_TYPE={{installer.nodes.cephstorage.nova_list_type}}
{%endif %}

export DELETE_COMMAND="openstack overcloud node delete {{ node_id_to_delete.stdout }} --debug --plan overcloud --stack overcloud "

{% if installer.network.network_config_name is defined and installer.env.type != "virthost" %}
export DELETE_COMMAND="$DELETE_COMMAND -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation.yaml -e ~/network-environment.yaml "
{% endif %}

{% if installer.network.network_config_name is defined and installer.env.type == "virthost" %}
export DELETE_COMMAND="$DELETE_COMMAND -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/net-single-nic-with-vlans.yaml -e ~/network-environment.yaml "
{% endif %}


